#include<iostream>
#include<string>
#include<queue>
#include<stack>
#include<vector>
using namespace std;



int main(){
    int N;
    cin>>N;
    vector<int>V;
    for(int i=0;i<N;i++){
        int x;
        cin>>x;
        V.push_back(x);
    }
    
    int arr[29][6]={ //arr[노드][윳명령어:빽도,도,개,걸,윳,모 순] //15번과 22번에서만 고려해주면됨.
        
        {0,1,2,3,4,5}, //0
        {0,2,3,4,5,6}, //1
        {1,3,4,5,6,7}, //2
        {2,4,5,6,7,8}, //3
        {3,5,6,7,8,9}, //4
        {4,20,21,22,23,24}, //5
        
        {5,7,8,9,10,11}, //6
        {6,8,9,10,11,12}, //7
        {7,9,10,11,12,13}, //8
        {8,10,11,12,13,14}, //9
        {9,25,26,22,27,28}, //10
        
        {10,12,13,14,15,16}, //11
        {11,13,14,15,16,17}, //12
        {12,14,15,16,17,18}, //13
        {13,15,16,17,18,19}, //14
        
        
        {-1,16,17,18,19,0}, //15 //15문제 양갈래길
        
        {15,17,18,19,0,0}, //16
        {16,18,19,0,0,0}, //17
        {17,18,19,0,0,0}, //18
        {18,0,0,0,0,0}, //19

        {5,21,22,23,24,15}, //20
        {20,22,23,24,15,16}, //21
        
        
        {-1,27,28,0,0,0}, //22. //22문제 양갈래길
        
        
        {22,24,15,16,17,18}, //23
        {23,25,16,17,18,19}, //24
        
        {10,26,22,27,28,0}, //25
        {25,22,27,28,0,0}, //26
        {22,28,0,0,0,0}, //27
        {27,0,0,0,0,0} //28
    };
    int cur=0;
    int prev=0;
    for(int i=0;i<V.size();i++){
        int cmd=V[i];
        if(cmd==-1){ //빽도일떄

            if(cur==15){ //15 양갈래일떄
                if(prev==20||prev==21||prev==23||prev==24){
                    cur=24;
                   
                }
                else if(prev==10||prev==11||prev==12||prev==13||prev==14){
                    cur=14;
                    
                }
            }
            else if(cur==22){ //22 양갈래일떄
                if(prev==5||prev==20||prev==21){
                    cur=21;
                   
                }
                else if(prev==10||prev==25||prev==26){
                     cur=26;
                  
                 }
            }
            else{//나머지 양갈래일때
                cur=arr[cur][0];
            }
            
        }
        
        else{ //빽도가아닐떄
            int temp=prev;
            prev=cur;
            cur=arr[cur][cmd];
            if(prev==22 || prev==15){// 양갈래인 15와 22에 멈출경우 이전의 노드가 아닌 이전의 이전노드값을 기억시켜줘야 된다 빽도를 위해서
                prev=temp;
            }
        }
        
        
        if(cur==0){ //0에 도착했을경우 나머지 연산 하지않고 끝낸다.
            cout<<cur<<endl;
            return 0;
        }
        
        //else
            //cout<<cur<<" "<<prev<<endl;
         
    }
    
    cout<<cur<<endl;
}
